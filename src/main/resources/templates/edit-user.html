<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<th:block th:replace="~{fragments/main::page(title='User list',appMain=~{::appMain})}">
    <appMain>
        <div class="row d-flex justify-content-center align-items-left">
            <div class="col-12 col-md-8 col-xl-5">
                <div class="card shadow-2-strong" style="border-radius: 1rem;">
                    <div class="card-body p-3 p-md-5 text-left">
                        <h3 class="mb-3">Edit user</h3>
                        <main>
                            <form class="form-horizontal" method="post" enctype="multipart/form-data">
                                <fieldset>
                                    <section class="form-group">
                                        <label class="col-md-4 control-label" for="login">Login</label>
                                        <div class="col-md-4">
                                            <input
                                                    id="login"
                                                    name="login"
                                                    th:type="text"
                                                    th:value="${user.login}"
                                                    th:placeholder="#{auth.login}"
                                                    class="form-control input-md"
                                                    required>
                                            <span class="help-block">min 3 symbols</span>
                                        </div>
                                    </section>

                                    <section class="form-group">
                                        <label class="col-md-4 control-label" for="password">Password</label>
                                        <div class="col-md-4">
                                            <input id="password"
                                                   name="password"
                                                   th:type="password"
                                                   th:value="${user.password}"
                                                   th:placeholder="#{auth.password}"
                                                   class="form-control input-md"
                                                   required>
                                            <span class="help-block">min 8 symbols</span>
                                        </div>
                                    </section>

                                    <section class="form-group">
                                        <label class="col-md-4 control-label" for="role">Role</label>
                                        <div class="col-md-4">
                                            <select id="role" name="role" class="form-control">
                                                <option th:each="role : ${roles}"
                                                        th:if="role == user.role ? 'selected' : ''" th:text="${role}">
                                                </option>
                                            </select>
                                        </div>
                                    </section>

                                    <section class="form-group">
                                        <label class="col-md-4 control-label" for="createButton">Operation</label>
                                        <div class="col-md-8" th:if="user==null">
                                            <button id="createButton" name="createButton" class="btn btn-success">
                                                Create
                                            </button>
                                        </div>
                                        <div class="col-md-8" th:unless="user==null">
                                            <button id="update" name="update" class="btn btn-primary">
                                                Update
                                            </button>
                                        </div>
                                    </section>
                                </fieldset>
                            </form>
                        </main>
                    </div>
                </div>
            </div>
        </div>
    </appMain>
</th:block>